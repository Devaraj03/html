<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Form validation</title>
    <link rel="stylesheet" href="style.css">
    <link href="http://pro.fontawsome.com/releases/v5.10.0/css/all.css">
</head>
<body>

    <div class="container">
        <div class="head">
            <h2>Create Account</h2>
        </div>
        <form class="form" id="form">
            <div class="form-control">
                <label>Username</label>
                <input type="text" placeholder="Enter" id="username">
                <i class="fas fa-check-circle"></i>
                <i class="fas fa-exclamation-circle"></i>
                <small>Error message</small>
            </div>
            <div class="form-control">
                <label>Email</label>
                <input type="text" placeholder="Enter" id="Email">
                <i class="fas fa-check-circle"></i>
                <i class="fas fa-exclamation-circle"></i>
                <small>Error message</small>
            </div>
            <div class="form-control">
                <label>Password</label>
                <input type="text" placeholder="Enter" id="Password">
                <i class="fas fa-check-circle"></i>
                <i class="fas fa-exclamation-circle"></i>
                <small>Error message</small>
            </div>
        <form class="form" id="form">
            <div class="form-control">
                <label>Confirm password</label>
                <input type="text" placeholder="Enter" id="password2">
                <i class="fas fa-check-circle"></i>
                <i class="fas fa-exclamation-circle"></i>
                <small>Error message</small>
            </div>
            <button>Submit</button>

        </form>
    </div>
        <script>
            const form= document.getElementById("form");
            const username= document.getElementById("username");
            const email= document.getElementById("Email");
            const password= document.getElementById("Password");
            const password2= document.getElementById("password2");


            form.addEventListener('submit',e=>
            {
                e.preventDefault();
                checkInput();
            });
        function checkInput()
        {
            const usernameValue= username.value.trim();
            const emailValue= email.value.trim();
            const passwordValue= password.value.trim();
            const password2Value= password2.value.trim();

            if(usernameValue==='')
            {
                setError(username,'Username Cannot Be Blank');
            }
            else
            {
               setSuccess(username);
            }
            if(emailValue==='')
            {
                setError(email,'Email cannot Be Blank')
            }
            else if(!isEmail(emailValue))
             {
                setError(email,'Not a valid Email');
            }
            else
            {
                setSuccess(email);
            }
        if(passwordValue==='')
        {
            setError(password,'Password Cannot Be Blank');
        }
        else
        {
           setSuccess(password);
        }

        if(password2Value==='')
        {
            setError(password2,'password2 Cannot Be Blank');
        }
        else if(passwordValue!== password2Value){
            setError(password2,'password Does Not Match')
        }
        else
        {
           setSuccess(password2);
        }
    }
        function setError(input,message){
            const formControl=input.parentElement;
            const small=formControl.querySelector('small');
            formControl.className='form-control error';
            small.innerText=message;
        }
        function setSuccess()
        {
            const formControl=input.parentElement;
            formControl.className='form-control success';
        }


        function isEmail(email){
            return /^(([^<>()\[\]\\-, ; : \@s"]+(\ â€¢[^<>()\[\]\\., ; : \s@" ]+)*)| ("".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1, 3}\.[0-9]{1,3}])|(( [a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$ /.test(email);
        }
        </script>
    
</body>
</html>